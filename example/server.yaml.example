# lucy Server Configuration â€” Normal Profile
#
# Conservative settings matching the normal client profile.

role: "server"

log:
  level: "info"

listen:
  addr: ":9999"                   # CHANGE ME: listen port (must match ipv4 addr port)

# Network
network:
  interface: "eth0"               # CHANGE ME: your network interface
  # guid: "\\Device\\NPF_{...}"  # Windows only (Npcap)
  ipv4:
    addr: "10.0.0.100:9999"       # CHANGE ME: server IP and port
    router_mac: "aa:bb:cc:dd:ee:ff" # CHANGE ME: gateway MAC address

  # IPv6 (optional)
  # ipv6:
  #   addr: "[::1]:9999"
  #   router_mac: "aa:bb:cc:dd:ee:ff"

# Transport
transport:
  protocol: "kcp"
  conn: 1

  kcp:
    mode: "fast"
    mtu: 1350
    rcvwnd: 1024
    sndwnd: 1024
    block: "aes"
    key: "your-secret-key-here"    # CHANGE ME: must match client

# Firewall: required on server to prevent kernel interference
#   sudo iptables -t raw -A PREROUTING -p tcp --dport 9999 -j NOTRACK
#   sudo iptables -t raw -A OUTPUT -p tcp --sport 9999 -j NOTRACK
#   sudo iptables -t mangle -A OUTPUT -p tcp --sport 9999 --tcp-flags RST RST -j DROP